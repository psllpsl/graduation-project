# 数据库设计文档（数据字典）

## 1. 数据库概述

| 项目 | 说明 |
|------|------|
| **数据库名称** | dental_clinic |
| **数据库描述** | 基于 AI 智能客服的牙科修复复诊提醒与管理系统 |
| **字符集** | utf8mb4 |
| **排序规则** | utf8mb4_unicode_ci |
| **存储引擎** | InnoDB |
| **设计日期** | 2026-02-21 |
| **数据库版本** | MySQL 8.0+ |

---

## 2. 数据表清单

| 序号 | 表名 | 中文名称 | 说明 |
|:----:|------|----------|------|
| 1 | `users` | 用户表 | 存储医护人员账号信息 |
| 2 | `patients` | 患者表 | 存储患者基本信息 |
| 3 | `treatment_records` | 治疗记录表 | 存储患者治疗历史 |
| 4 | `appointments` | 复诊计划表 | 存储复诊预约信息 |
| 5 | `dialogues` | 对话记录表 | 存储 AI 对话日志 |
| 6 | `knowledge_base` | 知识库表 | 存储牙科专业知识 |
| 7 | `system_config` | 系统配置表 | 存储系统参数配置 |

---

## 3. 表结构详解

### 3.1 users - 用户表

**表说明**：存储医护人员账号信息，支持管理员和医生两种角色。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| username | VARCHAR | 50 | 否 | - | 用户名（唯一） | doctor_zhang |
| password_hash | VARCHAR | 255 | 否 | - | 加密密码 | $2b$12$K... |
| real_name | VARCHAR | 50 | 否 | - | 真实姓名 | 张医生 |
| role | VARCHAR | 20 | 否 | doctor | 角色：admin/doctor | doctor |
| phone | VARCHAR | 20 | 是 | NULL | 手机号 | 13800138000 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 创建时间 | 2026-02-21 10:00:00 |
| updated_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 更新时间 | 2026-02-21 10:00:00 |

**约束**：
- 主键：`id`
- 唯一索引：`username`

**SQL 定义**：
```sql
CREATE TABLE `users` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `username` VARCHAR(50) NOT NULL COMMENT '用户名',
    `password_hash` VARCHAR(255) NOT NULL COMMENT '加密密码',
    `real_name` VARCHAR(50) NOT NULL COMMENT '真实姓名',
    `role` VARCHAR(20) NOT NULL DEFAULT 'doctor' COMMENT '角色：admin/doctor',
    `phone` VARCHAR(20) DEFAULT NULL COMMENT '手机号',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户表';
```

---

### 3.2 patients - 患者表

**表说明**：存储患者基本信息，通过微信 openid 唯一标识。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| openid | VARCHAR | 64 | 否 | - | 微信用户标识（唯一） | oAbCdEfGhIjKlMnOpQrStUvWx |
| name | VARCHAR | 50 | 否 | - | 姓名 | 张三 |
| gender | VARCHAR | 10 | 是 | NULL | 性别 | 男 |
| age | INT | - | 是 | NULL | 年龄 | 45 |
| phone | VARCHAR | 20 | 是 | NULL | 手机号 | 13900139001 |
| id_card | VARCHAR | 18 | 是 | NULL | 身份证号（加密存储） | 530102199001011234 |
| medical_history | TEXT | - | 是 | NULL | 既往病史 | 高血压 |
| allergy_history | TEXT | - | 是 | NULL | 过敏史 | 青霉素过敏 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 注册时间 | 2026-02-21 10:00:00 |
| updated_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 更新时间 | 2026-02-21 10:00:00 |

**约束**：
- 主键：`id`
- 唯一索引：`openid`
- 普通索引：`phone`

**关联关系**：
- 1:N → `treatment_records`（一个患者可有多条治疗记录）
- 1:N → `appointments`（一个患者可有多个复诊计划）
- 1:N → `dialogues`（一个患者可产生多条对话记录）

**SQL 定义**：
```sql
CREATE TABLE `patients` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `openid` VARCHAR(64) NOT NULL COMMENT '微信用户标识',
    `name` VARCHAR(50) NOT NULL COMMENT '姓名',
    `gender` VARCHAR(10) DEFAULT NULL COMMENT '性别',
    `age` INT DEFAULT NULL COMMENT '年龄',
    `phone` VARCHAR(20) DEFAULT NULL COMMENT '手机号',
    `id_card` VARCHAR(18) DEFAULT NULL COMMENT '身份证号',
    `medical_history` TEXT COMMENT '既往病史',
    `allergy_history` TEXT COMMENT '过敏史',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '注册时间',
    `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_openid` (`openid`),
    KEY `idx_phone` (`phone`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='患者表';
```

---

### 3.3 treatment_records - 治疗记录表

**表说明**：存储患者的治疗历史记录，包括治疗类型、牙位、材料等信息。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| patient_id | INT | - | 否 | - | 患者 ID（外键） | 1 |
| treatment_type | VARCHAR | 50 | 否 | - | 治疗类型 | 固定义齿修复 |
| treatment_date | DATE | - | 否 | - | 治疗日期 | 2026-01-15 |
| tooth_position | VARCHAR | 50 | 是 | NULL | 牙位 | 左上 6 |
| material | VARCHAR | 100 | 是 | NULL | 修复材料 | 全瓷牙 |
| dentist_id | INT | - | 是 | NULL | 医生 ID（外键） | 2 |
| notes | TEXT | - | 是 | NULL | 治疗备注 | 患者恢复良好 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 创建时间 | 2026-01-15 14:00:00 |

**约束**：
- 主键：`id`
- 外键：`patient_id` → `patients(id)`，`dentist_id` → `users(id)`
- 普通索引：`patient_id`、`dentist_id`、`treatment_date`

**外键约束**：
- `fk_tr_patient`：`patient_id` → `patients(id)`，ON DELETE CASCADE
- `fk_tr_dentist`：`dentist_id` → `users(id)`，ON DELETE SET NULL

**SQL 定义**：
```sql
CREATE TABLE `treatment_records` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `patient_id` INT NOT NULL COMMENT '患者 ID',
    `treatment_type` VARCHAR(50) NOT NULL COMMENT '治疗类型',
    `treatment_date` DATE NOT NULL COMMENT '治疗日期',
    `tooth_position` VARCHAR(50) DEFAULT NULL COMMENT '牙位',
    `material` VARCHAR(100) DEFAULT NULL COMMENT '修复材料',
    `dentist_id` INT DEFAULT NULL COMMENT '医生 ID',
    `notes` TEXT COMMENT '治疗备注',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    PRIMARY KEY (`id`),
    KEY `idx_patient_id` (`patient_id`),
    KEY `idx_dentist_id` (`dentist_id`),
    KEY `idx_treatment_date` (`treatment_date`),
    CONSTRAINT `fk_tr_patient` FOREIGN KEY (`patient_id`) REFERENCES `patients` (`id`) ON DELETE CASCADE,
    CONSTRAINT `fk_tr_dentist` FOREIGN KEY (`dentist_id`) REFERENCES `users` (`id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='治疗记录表';
```

---

### 3.4 appointments - 复诊计划表

**表说明**：存储患者的复诊预约信息，支持提醒功能。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| patient_id | INT | - | 否 | - | 患者 ID（外键） | 1 |
| appointment_date | DATETIME | - | 否 | - | 复诊日期时间 | 2026-03-15 09:00:00 |
| appointment_type | VARCHAR | 50 | 否 | - | 复诊类型 | 种植牙复查 |
| status | VARCHAR | 20 | 否 | pending | 状态：pending/completed/cancelled | pending |
| reminder_sent | TINYINT | - | 否 | 0 | 是否已发送提醒：0/1 | 0 |
| reminder_time | DATETIME | - | 是 | NULL | 提醒发送时间 | 2026-03-14 09:00:00 |
| notes | TEXT | - | 是 | NULL | 复诊备注 | 检查骨结合情况 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 创建时间 | 2026-02-21 10:00:00 |
| updated_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 更新时间 | 2026-02-21 10:00:00 |

**约束**：
- 主键：`id`
- 外键：`patient_id` → `patients(id)`
- 普通索引：`patient_id`、`appointment_date`、`status`

**外键约束**：
- `fk_app_patient`：`patient_id` → `patients(id)`，ON DELETE CASCADE

**状态枚举值**：
| 值 | 说明 |
|-----|------|
| pending | 待复诊 |
| completed | 已完成 |
| cancelled | 已取消 |

**SQL 定义**：
```sql
CREATE TABLE `appointments` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `patient_id` INT NOT NULL COMMENT '患者 ID',
    `appointment_date` DATETIME NOT NULL COMMENT '复诊日期',
    `appointment_type` VARCHAR(50) NOT NULL COMMENT '复诊类型',
    `status` VARCHAR(20) NOT NULL DEFAULT 'pending' COMMENT '状态：pending/completed/cancelled',
    `reminder_sent` TINYINT NOT NULL DEFAULT 0 COMMENT '是否已发送提醒：0/1',
    `reminder_time` DATETIME DEFAULT NULL COMMENT '提醒发送时间',
    `notes` TEXT COMMENT '复诊备注',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    PRIMARY KEY (`id`),
    KEY `idx_patient_id` (`patient_id`),
    KEY `idx_appointment_date` (`appointment_date`),
    KEY `idx_status` (`status`),
    CONSTRAINT `fk_app_patient` FOREIGN KEY (`patient_id`) REFERENCES `patients` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='复诊计划表';
```

---

### 3.5 dialogues - 对话记录表

**表说明**：存储患者与 AI 智能客服的对话日志，支持人工接管功能。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| patient_id | INT | - | 否 | - | 患者 ID（外键） | 1 |
| session_id | VARCHAR | 64 | 否 | - | 会话 ID | sess_001 |
| user_message | TEXT | - | 否 | - | 用户消息 | 医生，我种植牙多久能正常吃饭？ |
| ai_response | TEXT | - | 否 | - | AI 回复 | 一般种植牙术后 2-3 个月... |
| message_type | VARCHAR | 20 | 否 | consultation | 消息类型 | consultation |
| is_handover | TINYINT | - | 否 | 0 | 是否人工接管：0/1 | 0 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 对话时间 | 2026-02-21 10:00:00 |

**约束**：
- 主键：`id`
- 外键：`patient_id` → `patients(id)`
- 普通索引：`patient_id`、`session_id`、`created_at`

**外键约束**：
- `fk_dia_patient`：`patient_id` → `patients(id)`，ON DELETE CASCADE

**消息类型枚举值**：
| 值 | 说明 |
|-----|------|
| consultation | 健康咨询 |
| reminder | 复诊提醒 |
| followup | 术后随访 |

**SQL 定义**：
```sql
CREATE TABLE `dialogues` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `patient_id` INT NOT NULL COMMENT '患者 ID',
    `session_id` VARCHAR(64) NOT NULL COMMENT '会话 ID',
    `user_message` TEXT NOT NULL COMMENT '用户消息',
    `ai_response` TEXT NOT NULL COMMENT 'AI 回复',
    `message_type` VARCHAR(20) NOT NULL DEFAULT 'consultation' COMMENT '消息类型',
    `is_handover` TINYINT NOT NULL DEFAULT 0 COMMENT '是否人工接管：0/1',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '对话时间',
    PRIMARY KEY (`id`),
    KEY `idx_patient_id` (`patient_id`),
    KEY `idx_session_id` (`session_id`),
    KEY `idx_created_at` (`created_at`),
    CONSTRAINT `fk_dia_patient` FOREIGN KEY (`patient_id`) REFERENCES `patients` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='对话记录表';
```

---

### 3.6 knowledge_base - 知识库表

**表说明**：存储牙科修复领域的专业知识，支持 AI 客服检索增强生成（RAG）。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| category | VARCHAR | 50 | 否 | - | 知识分类 | 术后护理 |
| title | VARCHAR | 200 | 否 | - | 知识标题 | 种植牙术后注意事项 |
| content | TEXT | - | 否 | - | 知识内容 | 1. 术后 24 小时内不要刷牙... |
| keywords | VARCHAR | 255 | 是 | NULL | 关键词（逗号分隔） | 种植牙，术后护理，注意事项 |
| source | VARCHAR | 200 | 是 | NULL | 来源 | 《口腔修复学》第 8 版 |
| is_active | TINYINT | - | 否 | 1 | 是否启用：0/1 | 1 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 创建时间 | 2026-02-21 10:00:00 |
| updated_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 更新时间 | 2026-02-21 10:00:00 |

**约束**：
- 主键：`id`
- 普通索引：`category`、`keywords`

**知识分类枚举值**：
| 值 | 说明 |
|-----|------|
| 术后护理 | 术后注意事项、护理指南 |
| 常见问题 | FAQ 常见问题解答 |
| 修复类型 | 固定义齿、活动义齿、种植义齿 |
| 紧急情况 | 紧急处理建议 |
| 复诊规范 | 复诊周期与规范 |

**SQL 定义**：
```sql
CREATE TABLE `knowledge_base` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `category` VARCHAR(50) NOT NULL COMMENT '知识分类',
    `title` VARCHAR(200) NOT NULL COMMENT '知识标题',
    `content` TEXT NOT NULL COMMENT '知识内容',
    `keywords` VARCHAR(255) DEFAULT NULL COMMENT '关键词',
    `source` VARCHAR(200) DEFAULT NULL COMMENT '来源',
    `is_active` TINYINT NOT NULL DEFAULT 1 COMMENT '是否启用：0/1',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    PRIMARY KEY (`id`),
    KEY `idx_category` (`category`),
    KEY `idx_keywords` (`keywords`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='知识库表';
```

---

### 3.7 system_config - 系统配置表

**表说明**：存储系统运行参数配置，支持动态调整系统行为。

| 字段名 | 数据类型 | 长度 | 允许 NULL | 默认值 | 说明 | 示例 |
|--------|----------|------|-----------|--------|------|------|
| id | INT | - | 否 | AUTO_INCREMENT | 主键 ID | 1 |
| config_key | VARCHAR | 100 | 否 | - | 配置键（唯一） | reminder_time |
| config_value | TEXT | - | 否 | - | 配置值 | 09:00 |
| description | VARCHAR | 255 | 是 | NULL | 配置说明 | 每日复诊提醒发送时间 |
| created_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 创建时间 | 2026-02-21 10:00:00 |
| updated_at | DATETIME | - | 否 | CURRENT_TIMESTAMP | 更新时间 | 2026-02-21 10:00:00 |

**约束**：
- 主键：`id`
- 唯一索引：`config_key`

**系统配置项清单**：
| config_key | config_value | description |
|------------|--------------|-------------|
| reminder_time | 09:00 | 每日复诊提醒发送时间 |
| reminder_advance_hours | 24 | 提前多少小时发送提醒 |
| ai_max_tokens | 512 | AI 回复最大 token 数 |
| ai_temperature | 0.7 | AI 生成温度参数 |
| session_timeout_minutes | 30 | 会话超时时间（分钟） |

**SQL 定义**：
```sql
CREATE TABLE `system_config` (
    `id` INT NOT NULL AUTO_INCREMENT COMMENT '主键 ID',
    `config_key` VARCHAR(100) NOT NULL COMMENT '配置键',
    `config_value` TEXT NOT NULL COMMENT '配置值',
    `description` VARCHAR(255) DEFAULT NULL COMMENT '配置说明',
    `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `updated_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    PRIMARY KEY (`id`),
    UNIQUE KEY `uk_config_key` (`config_key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='系统配置表';
```

---

## 4. 索引汇总

### 4.1 主键索引

| 序号 | 表名 | 主键字段 |
|:----:|------|----------|
| 1 | `users` | id |
| 2 | `patients` | id |
| 3 | `treatment_records` | id |
| 4 | `appointments` | id |
| 5 | `dialogues` | id |
| 6 | `knowledge_base` | id |
| 7 | `system_config` | id |

### 4.2 唯一索引

| 序号 | 表名 | 字段 | 索引名 |
|:----:|------|------|--------|
| 1 | `users` | username | uk_username |
| 2 | `patients` | openid | uk_openid |
| 3 | `system_config` | config_key | uk_config_key |

### 4.3 普通索引

| 序号 | 表名 | 字段 | 索引名 |
|:----:|------|------|--------|
| 1 | `patients` | phone | idx_phone |
| 2 | `treatment_records` | patient_id | idx_patient_id |
| 3 | `treatment_records` | dentist_id | idx_dentist_id |
| 4 | `treatment_records` | treatment_date | idx_treatment_date |
| 5 | `appointments` | patient_id | idx_patient_id |
| 6 | `appointments` | appointment_date | idx_appointment_date |
| 7 | `appointments` | status | idx_status |
| 8 | `dialogues` | patient_id | idx_patient_id |
| 9 | `dialogues` | session_id | idx_session_id |
| 10 | `dialogues` | created_at | idx_created_at |
| 11 | `knowledge_base` | category | idx_category |
| 12 | `knowledge_base` | keywords | idx_keywords |

---

## 5. 外键关系汇总

| 外键名 | 所在表 | 关联表 | 删除策略 |
|--------|--------|--------|----------|
| fk_tr_patient | treatment_records | patients | CASCADE |
| fk_tr_dentist | treatment_records | users | SET NULL |
| fk_app_patient | appointments | patients | CASCADE |
| fk_dia_patient | dialogues | patients | CASCADE |

---

## 6. 数据示例

### 6.1 用户表数据示例

| id | username | real_name | role | phone |
|----|----------|-----------|------|-------|
| 1 | admin | 系统管理员 | admin | 13800138000 |
| 2 | doctor_zhang | 张医生 | doctor | 13800138001 |
| 3 | doctor_li | 李医生 | doctor | 13800138002 |

### 6.2 患者表数据示例

| id | openid | name | gender | age | phone |
|----|--------|------|--------|-----|-------|
| 1 | oAbCdEfGhIjKlMnOpQrStUvWx | 张三 | 男 | 45 | 13900139001 |
| 2 | oAbCdEfGhIjKlMnOpQrStUvWy | 李四 | 女 | 38 | 13900139002 |
| 3 | oAbCdEfGhIjKlMnOpQrStUvWz | 王五 | 男 | 52 | 13900139003 |

### 6.3 治疗记录数据示例

| id | patient_id | treatment_type | treatment_date | tooth_position | material |
|----|------------|----------------|----------------|----------------|----------|
| 1 | 1 | 固定义齿修复 | 2026-01-15 | 左上 6 | 全瓷牙 |
| 2 | 1 | 种植牙手术 | 2026-02-10 | 右下 6 | ITI 种植体 |

### 6.4 复诊计划数据示例

| id | patient_id | appointment_date | appointment_type | status |
|----|------------|------------------|------------------|--------|
| 1 | 1 | 2026-03-15 09:00:00 | 种植牙复查 | pending |
| 2 | 1 | 2026-05-15 09:00:00 | 固定义齿复查 | pending |

---

## 7. 数据库设计规范

### 7.1 命名规范

| 对象类型 | 命名规则 | 示例 |
|----------|----------|------|
| 表名 | 小写字母 + 下划线，复数形式 | users, patients |
| 字段名 | 小写字母 + 下划线 | created_at, patient_id |
| 主键索引 | id | id |
| 唯一索引 | uk_字段名 | uk_username |
| 普通索引 | idx_字段名 | idx_phone |
| 外键约束 | fk_表名_关联表 | fk_tr_patient |

### 7.2 字段类型选择原则

| 数据类型 | 使用场景 |
|----------|----------|
| INT | 主键 ID、年龄、数量等整数 |
| VARCHAR | 姓名、手机号、类型等变长字符串 |
| TEXT | 内容较多、长度不固定的文本 |
| DATE | 仅日期（无时间） |
| DATETIME | 日期 + 时间 |
| TINYINT | 布尔值、状态标志（0/1） |

### 7.3 时间字段规范

| 字段名 | 说明 | 默认值 |
|--------|------|--------|
| created_at | 记录创建时间 | CURRENT_TIMESTAMP |
| updated_at | 记录最后更新时间 | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |

---

**文档版本**：v1.2
**设计日期**：2026-02-21
