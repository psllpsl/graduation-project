# AutoDL å¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼ˆTransformers ç‰ˆæœ¬ï¼‰

## ğŸ“ ä¸Šä¼ æ–‡ä»¶

åœ¨ AutoDL JupyterLab ä¸­ï¼Œä¸Šä¼ ä»¥ä¸‹æ–‡ä»¶åˆ° `/root/autodl-tmp/`ï¼š

- `start.sh` - ä¸€é”®å¯åŠ¨è„šæœ¬ â­
- `start_inference.py` - æ¨ç†æœåŠ¡è„šæœ¬
- `.autodl_config` - é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœä¹‹å‰æœ‰ï¼‰

---

## ğŸš€ å¯åŠ¨æ­¥éª¤

### æ­¥éª¤ 1ï¼šèµ‹äºˆæƒé™

```bash
chmod +x start.sh
```

### æ­¥éª¤ 2ï¼šè¿è¡Œè„šæœ¬

```bash
bash start.sh
```

---

## ğŸ“‹ è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆ

âœ… è‡ªåŠ¨æ£€æµ‹æ¨¡å‹è·¯å¾„ï¼ˆ`./models/dental_qwen_merged`ï¼‰  
âœ… è‡ªåŠ¨è¯»å–/ä¿å­˜é…ç½®ï¼ˆå…¬ç½‘åœ°å€ã€ç«¯å£ï¼‰  
âœ… è‡ªåŠ¨å®‰è£…ä¾èµ–ï¼ˆtransformersã€fastapiã€torchï¼‰  
âœ… è‡ªåŠ¨å¯åŠ¨æ¨ç†æœåŠ¡  
âœ… è‡ªåŠ¨æµ‹è¯•åŠŸèƒ½  

---

## ğŸ”„ æ¢æœºå™¨åä½¿ç”¨

```bash
bash start.sh
```

å½“è¯¢é—®"æ˜¯å¦æ›´æ¢äº† AutoDL å®ä¾‹"æ—¶ï¼š

- **ç›´æ¥å›è½¦** â†’ ä½¿ç”¨åŸé…ç½®å¯åŠ¨
- **è¾“å…¥ y** â†’ é‡æ–°è¾“å…¥å…¬ç½‘åœ°å€

---

## ğŸ“ é…ç½®è¯´æ˜

è„šæœ¬ä¼šåˆ›å»º `.autodl_config` æ–‡ä»¶ï¼Œä¿å­˜ï¼š
- æ¨¡å‹è·¯å¾„
- æœåŠ¡ç«¯å£
- å…¬ç½‘åœ°å€
- è¿›ç¨‹ PID

**ä¸‹æ¬¡è¿è¡Œè‡ªåŠ¨è¯»å–ï¼Œæ— éœ€é‡å¤è¾“å…¥ï¼**

---

## ğŸ§ª æµ‹è¯•å‘½ä»¤

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:6008/health

# æ¨ç†æµ‹è¯•
curl http://localhost:6008/generate \
    -H "Content-Type: application/json" \
    -d '{"prompt": "ç§æ¤ç‰™æœ¯åå¤šä¹…èƒ½åƒé¥­ï¼Ÿ", "max_tokens": 150}'

# æŸ¥çœ‹æ—¥å¿—
tail -f inference.log
```

---

## ğŸŒ å…¬ç½‘è®¿é—®é…ç½®

1. åœ¨ AutoDL æ§åˆ¶å° â†’ è‡ªå®šä¹‰æœåŠ¡ â†’ æ·»åŠ æœåŠ¡
2. å¡«å†™ç«¯å£ `6008`ï¼Œåè®® `HTTP`
3. å¤åˆ¶ç”Ÿæˆçš„å…¬ç½‘ URLï¼ˆå¦‚ï¼š`https://uu769760-b58d...seetacloud.com:8443`ï¼‰
4. é‡æ–°è¿è¡Œ `bash start.sh`ï¼Œè¾“å…¥å…¬ç½‘åœ°å€

---

## ğŸ“Š å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹é…ç½®
cat .autodl_config

# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep start_inference

# åœæ­¢æœåŠ¡
kill $(grep PID .autodl_config | cut -d'=' -f2)

# é‡å¯æœåŠ¡
bash start.sh

# æŸ¥çœ‹æ—¥å¿—
tail -f inference.log
```

---

## âœ… å¯åŠ¨æˆåŠŸçš„æ ‡å¿—

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ‰ æœåŠ¡å¯åŠ¨æˆåŠŸï¼                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š æœåŠ¡ä¿¡æ¯ï¼š
   GPU å‹å·ï¼šNVIDIA GeForce RTX 4090
   æ˜¾å­˜å®¹é‡ï¼š24576 MB
   æœåŠ¡ç«¯å£ï¼š6008
   å†…ç½‘è®¿é—®ï¼šhttp://localhost:6008

ğŸŒ å…¬ç½‘è®¿é—®ï¼š
   æœåŠ¡åœ°å€ï¼šhttps://uu769760-b58d-861e482d.bjb1.seetacloud.com:8443
   API æ¥å£ï¼šhttps://uu769760-b58d-861e482d.bjb1.seetacloud.com:8443/generate

âœ… æ¨ç†æµ‹è¯•æˆåŠŸï¼
```

---

## ğŸ“‚ æ–‡ä»¶ä½ç½®

| æ–‡ä»¶ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| å¯åŠ¨è„šæœ¬ | `/root/autodl-tmp/start.sh` | ä¸€é”®å¯åŠ¨ |
| æ¨ç†æœåŠ¡ | `/root/autodl-tmp/start_inference.py` | Transformers æ¨ç† |
| é…ç½®æ–‡ä»¶ | `/root/autodl-tmp/.autodl_config` | é…ç½®ä¿å­˜ |
| æ—¥å¿—æ–‡ä»¶ | `/root/autodl-tmp/inference.log` | è¿è¡Œæ—¥å¿— |
| æ¨¡å‹è·¯å¾„ | `/root/autodl-tmp/models/dental_qwen_merged` | å¾®è°ƒæ¨¡å‹ |

---

**ç‰ˆæœ¬**ï¼šv2.0 (Transformers)  
**æ›´æ–°æ—¶é—´**ï¼š2026 å¹´ 2 æœˆ 27 æ—¥
