#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
补充最后 7 条数据达到 500 条
"""
import json

# 读取训练集
with open('D:/Project/毕业设计/data/train/train.json', 'r', encoding='utf-8') as f:
    data = json.load(f)

print(f"当前训练集：{len(data)} 条")

# 获取现有 input 集合
existing_inputs = set(item['input'] for item in data)

# 补充 7 条新数据
new_records = [
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃熊掌饭吗？",
    "output": "您好，关于种植牙术后吃熊掌饭的问题：\n\n【术后早期不建议吃】\n\n【熊掌饭的特点】\n1. 米饭软嫩\n2. 熊掌需要用力咀嚼\n3. 皮质韧\n4. 适量食用\n5. 保护野生动物\n\n【食用建议】\n\n【术后 1 周内】\n- 不建议吃熊掌饭\n- 熊掌需要用力咀嚼\n- 皮质韧\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量食用\n- 选择软烂熊掌和清淡口味\n- 避免过量\n\n【术后 1 个月后】\n- 可以正常食用\n- 但仍适量\n- 避免过量\n- 保护口腔\n\n【特别提醒】\n- 熊掌是保护野生动物\n- 不建议食用\n- 选择其他替代品\n- 保护生态环境\n\n建议您术后至少 1 周内不要吃熊掌饭，之后选择软烂和清淡口味适量食用。但建议您选择其他替代品，保护野生动物。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃鱼丸饭吗？",
    "output": "您好，关于种植牙术后吃鱼丸饭的问题：\n\n【术后早期可以适量吃】\n\n【鱼丸饭的特点】\n1. 米饭软嫩\n2. 鱼丸软嫩\n3. 营养丰富\n4. 一般无影响\n\n【食用建议】\n\n【术后早期】\n1. 可以适量食用\n2. 常温食用\n3. 不要过烫\n4. 选择软嫩鱼丸\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以正常食用\n- 无特殊限制\n- 适量为宜\n\n【术后 1 个月后】\n- 可以正常食用\n- 无特殊限制\n- 适量为宜\n\n【食用注意】\n1. 常温食用\n2. 选择软嫩鱼丸\n3. 小口食用\n4. 吃完漱口\n\n【特别提醒】\n- 鱼丸饭营养丰富\n- 术后可以食用\n- 常温更好\n- 适量食用\n\n【长期建议】\n- 可以正常食用\n- 营养丰富\n- 保护口腔健康\n- 适量为宜\n\n建议您术后适量食用鱼丸饭，常温食用，选择软嫩鱼丸。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃牛肉丸饭吗？",
    "output": "您好，关于种植牙术后吃牛肉丸饭的问题：\n\n【术后早期建议少吃】\n\n【牛肉丸饭的特点】\n1. 米饭软嫩\n2. 牛肉丸可能有嚼劲\n3. 需要咀嚼\n4. 适量食用\n\n【食用建议】\n\n【术后 1 周内】\n- 不建议吃牛肉丸饭\n- 牛肉丸可能有嚼劲\n- 需要咀嚼\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量食用\n- 选择软烂牛肉丸和清淡口味\n- 避免过量\n\n【术后 1 个月后】\n- 可以正常食用\n- 但仍适量\n- 避免过量\n- 保护口腔\n\n【食用注意】\n1. 常温食用\n2. 选择软烂牛肉丸和清淡口味\n3. 小口食用\n4. 吃完漱口\n\n【特别提醒】\n- 牛肉丸饭牛肉丸可能有嚼劲\n- 术后早期避免\n- 软烂牛肉丸可以适量\n- 保护口腔\n\n【长期建议】\n- 可以正常食用\n- 选择软烂牛肉丸\n- 保护口腔健康\n- 适量为宜\n\n建议您术后至少 1 周内不要吃牛肉丸饭，之后选择软烂牛肉丸和清淡口味适量食用。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃猪肉丸饭吗？",
    "output": "您好，关于种植牙术后吃猪肉丸饭的问题：\n\n【术后早期建议少吃】\n\n【猪肉丸饭的特点】\n1. 米饭软嫩\n2. 猪肉丸可能有嚼劲\n3. 需要咀嚼\n4. 适量食用\n\n【食用建议】\n\n【术后 1 周内】\n- 不建议吃猪肉丸饭\n- 猪肉丸可能有嚼劲\n- 需要咀嚼\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量食用\n- 选择软烂猪肉丸和清淡口味\n- 避免过量\n\n【术后 1 个月后】\n- 可以正常食用\n- 但仍适量\n- 避免过量\n- 保护口腔\n\n【食用注意】\n1. 常温食用\n2. 选择软烂猪肉丸和清淡口味\n3. 小口食用\n4. 吃完漱口\n\n【特别提醒】\n- 猪肉丸饭猪肉丸可能有嚼劲\n- 术后早期避免\n- 软烂猪肉丸可以适量\n- 保护口腔\n\n【长期建议】\n- 可以正常食用\n- 选择软烂猪肉丸\n- 保护口腔健康\n- 适量为宜\n\n建议您术后至少 1 周内不要吃猪肉丸饭，之后选择软烂猪肉丸和清淡口味适量食用。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃鸡肉丸饭吗？",
    "output": "您好，关于种植牙术后吃鸡肉丸饭的问题：\n\n【术后早期可以适量吃】\n\n【鸡肉丸饭的特点】\n1. 米饭软嫩\n2. 鸡肉丸软嫩\n3. 营养丰富\n4. 一般无影响\n\n【食用建议】\n\n【术后早期】\n1. 可以适量食用\n2. 常温食用\n3. 不要过烫\n4. 选择软嫩鸡肉丸\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以正常食用\n- 无特殊限制\n- 适量为宜\n\n【术后 1 个月后】\n- 可以正常食用\n- 无特殊限制\n- 适量为宜\n\n【食用注意】\n1. 常温食用\n2. 选择软嫩鸡肉丸\n3. 小口食用\n4. 吃完漱口\n\n【特别提醒】\n- 鸡肉丸饭营养丰富\n- 术后可以食用\n- 常温更好\n- 适量食用\n\n【长期建议】\n- 可以正常食用\n- 营养丰富\n- 保护口腔健康\n- 适量为宜\n\n建议您术后适量食用鸡肉丸饭，常温食用，选择软嫩鸡肉丸。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃虾丸饭吗？",
    "output": "您好，关于种植牙术后吃虾丸饭的问题：\n\n【术后早期建议少吃】\n\n【虾丸饭的特点】\n1. 米饭软嫩\n2. 虾丸可能有嚼劲\n3. 需要咀嚼\n4. 适量食用\n\n【食用建议】\n\n【术后 1 周内】\n- 不建议吃虾丸饭\n- 虾丸可能有嚼劲\n- 需要咀嚼\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量食用\n- 选择软烂虾丸和清淡口味\n- 避免过量\n\n【术后 1 个月后】\n- 可以正常食用\n- 但仍适量\n- 避免过量\n- 保护口腔\n\n【食用注意】\n1. 常温食用\n2. 选择软烂虾丸和清淡口味\n3. 小口食用\n4. 吃完漱口\n\n【特别提醒】\n- 虾丸饭虾丸可能有嚼劲\n- 术后早期避免\n- 软烂虾丸可以适量\n- 注意过敏\n\n【长期建议】\n- 可以正常食用\n- 选择软烂虾丸\n- 保护口腔健康\n- 适量为宜\n\n建议您术后至少 1 周内不要吃虾丸饭，之后选择软烂虾丸和清淡口味适量食用。请问您术后多久了？有海鲜过敏吗？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以吃杂丸饭吗？",
    "output": "您好，关于种植牙术后吃杂丸饭的问题：\n\n【术后早期建议少吃】\n\n【杂丸饭的特点】\n1. 米饭软嫩\n2. 各种丸可能有嚼劲\n3. 需要咀嚼\n4. 适量食用\n\n【食用建议】\n\n【术后 1 周内】\n- 不建议吃杂丸饭\n- 各种丸可能有嚼劲\n- 需要咀嚼\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量食用\n- 选择软烂丸子和清淡口味\n- 避免过量\n\n【术后 1 个月后】\n- 可以正常食用\n- 但仍适量\n- 避免过量\n- 保护口腔\n\n【食用注意】\n1. 常温食用\n2. 选择软烂丸子和清淡口味\n3. 小口食用\n4. 吃完漱口\n\n【特别提醒】\n- 杂丸饭各种丸可能有嚼劲\n- 术后早期避免\n- 软烂丸子可以适量\n- 保护口腔\n\n【长期建议】\n- 可以正常食用\n- 选择软烂丸子\n- 保护口腔健康\n- 适量为宜\n\n建议您术后至少 1 周内不要吃杂丸饭，之后选择软烂丸子和清淡口味适量食用。请问您术后多久了？",
    "category": "术后护理"
  }
]

# 检查是否重复
for record in new_records:
    if record['input'] not in existing_inputs:
        data.append(record)
        print(f"已添加：{record['input'][:30]}...")
    else:
        print(f"重复跳过：{record['input'][:30]}...")

# 保存
with open('D:/Project/毕业设计/data/train/train.json', 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

print(f"\n最终训练集：{len(data)} 条")

# 统计
from collections import Counter
category_counter = Counter(item['category'] for item in data)
print("\n类别分布：")
for cat, count in sorted(category_counter.items(), key=lambda x: x[1], reverse=True):
    print(f"  {cat}: {count} 条 ({count/len(data)*100:.1f}%)")
