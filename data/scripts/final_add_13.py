#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
补充最后 13 条数据达到 400 条
"""
import json

# 读取训练集
with open('D:/Project/毕业设计/data/train/train.json', 'r', encoding='utf-8') as f:
    data = json.load(f)

print(f"当前训练集：{len(data)} 条")

# 获取现有 input 集合
existing_inputs = set(item['input'] for item in data)

# 补充 13 条新数据
new_records = [
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝白茶吗？",
    "output": "您好，关于种植牙术后喝白茶的问题：\n\n【术后早期可以适量喝】\n\n【白茶的特点】\n1. 温和不刺激\n2. 含咖啡因较少\n3. 营养丰富\n4. 一般无影响\n\n【饮用建议】\n\n【术后早期】\n1. 可以适量饮用\n2. 温凉饮用\n3. 不要过烫\n4. 避免浓茶\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以正常饮用\n- 无特殊限制\n- 适量为宜\n\n【术后 1 个月后】\n- 可以正常饮用\n- 无特殊限制\n- 适量为宜\n\n【饮用注意】\n1. 温凉饮用\n2. 不要过烫\n3. 不要过浓\n4. 喝完漱口\n\n【特别提醒】\n- 白茶温和\n- 术后可以饮用\n- 温凉更好\n- 适量饮用\n\n【长期建议】\n- 可以正常饮用\n- 营养丰富\n- 保护口腔健康\n- 适量为宜\n\n建议您术后适量饮用白茶，温凉饮用，不要过烫。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝黄茶吗？",
    "output": "您好，关于种植牙术后喝黄茶的问题：\n\n【术后早期建议少喝】\n\n【黄茶的特点】\n1. 含咖啡因\n2. 可能影响睡眠\n3. 茶色素可能染色\n4. 适量饮用\n\n【饮用建议】\n\n【术后 1 周内】\n- 不建议喝黄茶\n- 避免咖啡因\n- 避免浓茶\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量饮用\n- 选择淡茶\n- 避免浓茶\n\n【术后 1 个月后】\n- 可以正常饮用\n- 但仍适量\n- 避免过浓\n- 保护口腔\n\n【饮用注意】\n1. 选择淡茶\n2. 温度适宜\n3. 不要过浓\n4. 喝完漱口\n\n【特别提醒】\n- 黄茶含咖啡因\n- 术后早期避免\n- 淡茶可以适量\n- 保护口腔\n\n【长期建议】\n- 即使恢复后也要适量\n- 浓茶影响睡眠\n- 影响口腔健康\n- 适度为宜\n\n建议您术后至少 1 周内不要喝黄茶，之后选择淡茶适量饮用。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝黑茶吗？",
    "output": "您好，关于种植牙术后喝黑茶的问题：\n\n【术后早期建议少喝】\n\n【黑茶的特点】\n1. 含咖啡因\n2. 可能影响睡眠\n3. 茶色素深可能染色\n4. 适量饮用\n\n【饮用建议】\n\n【术后 1 周内】\n- 不建议喝黑茶\n- 避免咖啡因\n- 避免浓茶\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量饮用\n- 选择淡茶\n- 避免浓茶\n\n【术后 1 个月后】\n- 可以正常饮用\n- 但仍适量\n- 避免过浓\n- 保护口腔\n\n【饮用注意】\n1. 选择淡茶\n2. 温度适宜\n3. 不要过浓\n4. 喝完漱口\n\n【特别提醒】\n- 黑茶含咖啡因\n- 术后早期避免\n- 淡茶可以适量\n- 保护口腔\n\n【长期建议】\n- 即使恢复后也要适量\n- 浓茶影响睡眠\n- 影响口腔健康\n- 适度为宜\n\n建议您术后至少 1 周内不要喝黑茶，之后选择淡茶适量饮用。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，什么是种植修复的数字化微笑设计（DSD）？",
    "output": "您好，让我给您介绍数字化微笑设计（DSD）：\n\n【什么是 DSD】\n- Digital Smile Design\n- 利用数字化技术设计微笑\n- 术前预知美学效果\n- 医患沟通工具\n\n【DSD 流程】\n\n【1. 数据采集】\n1. 拍摄面部照片\n2. 拍摄口内照片\n3. 拍摄视频\n4. 口腔扫描\n\n【2. 美学分析】\n1. 面部比例分析\n2. 微笑线分析\n3. 牙龈美学分析\n4. 牙齿比例分析\n\n【3. 数字化设计】\n1. 计算机设计\n2. 设计理想微笑\n3. 调整牙齿形态\n4. 调整牙龈形态\n\n【4. 效果展示】\n1. 术前预知效果\n2. 与患者沟通\n3. 调整设计方案\n4. 患者确认\n\n【5. 治疗实施】\n1. 制作导板\n2. 精确治疗\n3. 实现设计效果\n4. 完成修复\n\n【优点】\n1. 术前预知效果\n2. 充分沟通\n3. 减少纠纷\n4. 精确治疗\n5. 美学效果好\n\n【费用】\n- 约 3000-10000 元\n- 根据设计复杂程度\n\n建议您到院进行 DSD 设计，预知美学效果。请问您想改善哪方面？",
    "category": "修复类型"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝花草茶吗？",
    "output": "您好，关于种植牙术后喝花草茶的问题：\n\n【术后早期可以适量喝】\n\n【花草茶的特点】\n1. 温和不刺激\n2. 不含咖啡因\n3. 营养丰富\n4. 一般无影响\n\n【饮用建议】\n\n【术后早期】\n1. 可以适量饮用\n2. 温凉饮用\n3. 不要过烫\n4. 避免浓茶\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以正常饮用\n- 无特殊限制\n- 适量为宜\n\n【术后 1 个月后】\n- 可以正常饮用\n- 无特殊限制\n- 适量为宜\n\n【饮用注意】\n1. 温凉饮用\n2. 不要过烫\n3. 不要过浓\n4. 喝完漱口\n\n【特别提醒】\n- 花草茶温和\n- 不含咖啡因\n- 术后可以饮用\n- 适量饮用\n\n【长期建议】\n- 可以正常饮用\n- 营养丰富\n- 保护口腔健康\n- 适量为宜\n\n建议您术后适量饮用花草茶，温凉饮用，不要过烫。请问您术后多久了？喜欢什么花草茶？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，什么是种植修复的咬合设计？有什么原则？",
    "output": "您好，让我给您介绍种植修复的咬合设计：\n\n【什么是咬合设计】\n- 设计种植修复体的咬合关系\n- 确保功能正常\n- 保护种植体\n- 延长使用寿命\n\n【咬合设计原则】\n\n【保护种植体】\n1. 避免侧向力\n2. 减少悬臂\n3. 均匀分布咬合力\n4. 避免过载\n\n【功能正常】\n1. 咀嚼效率高\n2. 发音正常\n3. 美观自然\n4. 舒适无异物感\n\n【咬合接触】\n1. 正中咬合接触均匀\n2. 侧方咬合无干扰\n3. 前伸咬合无干扰\n4. 组牙功能或尖牙保护\n\n【具体设计】\n\n【单颗种植】\n1. 轻接触或无接触\n2. 避免早接触\n3. 减小牙尖斜度\n4. 减小颊舌径\n\n【多颗种植】\n1. 均匀分布咬合力\n2. 避免悬臂\n3. 增加种植体数量\n4. 减小牙尖斜度\n\n【全口种植】\n1. 双侧平衡咬合\n2. 避免悬臂\n3. 增加种植体数量\n4. 减小牙尖斜度\n\n【注意事项】\n1. 定期复查咬合\n2. 调整咬合干扰\n3. 有夜磨牙佩戴保护垫\n4. 避免咬硬物\n\n建议您到院进行咬合设计，确保功能正常。请问您缺失几颗牙？",
    "category": "常见问题"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝水果茶吗？",
    "output": "您好，关于种植牙术后喝水果茶的问题：\n\n【术后早期建议少喝】\n\n【水果茶的特点】\n1. 酸性较强\n2. 含糖量高\n3. 可能刺激伤口\n4. 适量饮用\n\n【饮用建议】\n\n【术后 1 周内】\n- 不建议喝水果茶\n- 酸性较强\n- 避免刺激\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量饮用\n- 稀释后饮用\n- 避免过酸\n\n【术后 1 个月后】\n- 可以正常饮用\n- 但仍适量\n- 避免过酸\n- 保护口腔\n\n【饮用注意】\n1. 稀释饮用\n2. 使用吸管\n3. 减少接触牙齿\n4. 喝完漱口\n\n【特别提醒】\n- 水果茶酸性较强\n- 术后早期避免\n- 稀释后可以适量\n- 保护口腔\n\n【长期建议】\n- 即使恢复后也要适量\n- 过量酸性影响牙齿\n- 影响口腔健康\n- 适度为宜\n\n建议您术后至少 1 周内不要喝水果茶，之后稀释适量饮用。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，什么是种植修复的牙冠设计？有什么类型？",
    "output": "您好，让我给您介绍种植修复的牙冠设计：\n\n【什么是牙冠设计】\n- 设计种植体上部的牙冠\n- 恢复功能和美观\n- 保护种植体\n- 延长使用寿命\n\n【牙冠设计类型】\n\n【按固位方式分】\n1. 螺丝固位冠\n   - 螺丝固定\n   - 可拆卸\n   - 便于维护\n   - 但螺丝孔影响美观\n\n2. 粘接固位冠\n   - 粘接剂固定\n   - 美观性好\n   - 但难以拆卸\n   - 多余粘接剂可能引起炎症\n\n3. 联合固位冠\n   - 螺丝 + 粘接\n   - 结合两者优点\n   - 但设计复杂\n\n【按材料分】\n1. 全瓷冠\n   - 美观自然\n   - 生物相容性好\n   - 价格较高\n\n2. 烤瓷冠\n   - 强度较好\n   - 价格适中\n   - 美观性一般\n\n3. 金属冠\n   - 强度最高\n   - 价格适中\n   - 美观性差\n\n【按形态分】\n1. 解剖式牙冠\n2. 半解剖式牙冠\n3. 非解剖式牙冠\n\n【选择建议】\n1. 前牙区：全瓷冠，螺丝或粘接\n2. 后牙区：全瓷冠或烤瓷冠\n3. 美学要求高：全瓷冠\n4. 预算有限：烤瓷冠\n\n建议您根据具体情况选择合适的牙冠设计。请问您缺失的是哪颗牙？",
    "category": "材料选择"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝养生茶吗？",
    "output": "您好，关于种植牙术后喝养生茶的问题：\n\n【术后早期可以适量喝】\n\n【养生茶的特点】\n1. 成分复杂\n2. 温和不刺激\n3. 营养丰富\n4. 一般无影响\n\n【饮用建议】\n\n【术后早期】\n1. 可以适量饮用\n2. 温凉饮用\n3. 不要过烫\n4. 避免浓茶\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以正常饮用\n- 无特殊限制\n- 适量为宜\n\n【术后 1 个月后】\n- 可以正常饮用\n- 无特殊限制\n- 适量为宜\n\n【饮用注意】\n1. 温凉饮用\n2. 不要过烫\n3. 不要过浓\n4. 喝完漱口\n5. 注意成分是否过敏\n\n【特别提醒】\n- 养生茶成分复杂\n- 注意是否过敏\n- 温凉更好\n- 适量饮用\n\n【长期建议】\n- 可以正常饮用\n- 营养丰富\n- 保护口腔健康\n- 适量为宜\n\n建议您术后适量饮用养生茶，温凉饮用，不要过烫，注意成分是否过敏。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，什么是种植修复的基台设计？有什么类型？",
    "output": "您好，让我给您介绍种植修复的基台设计：\n\n【什么是基台设计】\n- 设计连接种植体和牙冠的基台\n- 影响修复效果\n- 影响美观\n- 影响功能\n\n【基台设计类型】\n\n【按材料分】\n1. 钛基台\n   - 强度高\n   - 生物相容性好\n   - 适合后牙区\n\n2. 氧化锆基台\n   - 美观性好\n   - 生物相容性好\n   - 适合前牙区\n\n3. 金基台\n   - 密合度好\n   - 价格高\n   - 现在较少使用\n\n4. PEEK 基台\n   - 新型材料\n   - 弹性模量接近骨\n   - 但长期效果待验证\n\n【按制作方式分】\n1. 预成基台\n   - 工厂预制\n   - 价格较低\n   - 但形态有限\n\n2. 个性化基台\n   - CAD/CAM 定制\n   - 形态理想\n   - 美观性好\n   - 价格较高\n\n【按连接方式分】\n1. 螺丝固位基台\n2. 粘接固位基台\n3. 一体式基台\n4. 分体式基台\n\n【选择建议】\n1. 前牙区：氧化锆个性化基台\n2. 后牙区：钛预成基台\n3. 美学要求高：个性化基台\n4. 预算有限：预成基台\n\n建议您根据具体情况选择合适的基台设计。请问您缺失的是哪颗牙？",
    "category": "材料选择"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝八宝茶吗？",
    "output": "您好，关于种植牙术后喝八宝茶的问题：\n\n【术后早期建议少喝】\n\n【八宝茶的特点】\n1. 成分复杂\n2. 含糖量高\n3. 有坚果等硬物\n4. 适量饮用\n\n【饮用建议】\n\n【术后 1 周内】\n- 不建议喝八宝茶\n- 成分复杂\n- 有硬物可能损伤\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量饮用\n- 去除硬物\n- 选择清淡\n\n【术后 1 个月后】\n- 可以正常饮用\n- 但仍适量\n- 去除硬物\n- 保护口腔\n\n【饮用注意】\n1. 去除坚果等硬物\n2. 温凉饮用\n3. 不要过甜\n4. 喝完漱口\n\n【特别提醒】\n- 八宝茶成分复杂\n- 有硬物可能损伤\n- 去除硬物可以适量\n- 保护口腔\n\n【长期建议】\n- 即使恢复后也要适量\n- 去除硬物\n- 影响口腔健康\n- 适度为宜\n\n建议您术后至少 1 周内不要喝八宝茶，之后去除硬物适量饮用。请问您术后多久了？",
    "category": "术后护理"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，什么是种植修复的修复时机？有哪些选择？",
    "output": "您好，让我给您介绍种植修复的修复时机：\n\n【什么是修复时机】\n- 种植体植入后戴牙冠的时间\n- 影响治疗效果\n- 需要根据情况选择\n- 有多种选择\n\n【修复时机类型】\n\n【即刻修复】\n1. 种植后 48 小时内\n2. 当天戴牙冠\n3. 美观效果好\n4. 适应症要求严格\n5. 骨质条件好\n\n【早期修复】\n1. 种植后 2 周 -2 个月\n2. 部分骨结合\n3. 适度受力\n4. 需要评估\n5. 骨质条件中等\n\n【常规修复】\n1. 种植后 3-6 个月\n2. 骨结合完全\n3. 传统方式\n4. 成功率高\n5. 适合大多数患者\n\n【延期修复】\n1. 种植后 6 个月以上\n2. 特殊情况\n3. 等待更长时间\n4. 确保稳定\n5. 骨质条件差\n\n【选择建议】\n1. 前牙美学：可考虑即刻\n2. 后牙功能：建议常规\n3. 骨质条件差：延期\n4. 根据医生评估\n\n【影响因素】\n1. 骨质条件\n2. 种植体稳定性\n3. 美学需求\n4. 全身健康状况\n\n建议您根据具体情况选择合适的修复时机。请问您缺失的是哪颗牙？",
    "category": "常见问题"
  },
  {
    "instruction": "你是一名专业的牙科修复 AI 智能客服助手，请用专业、友好、易懂的语言回答患者关于牙科修复的问题。",
    "input": "医生，种植牙手术后可以喝凉茶吗？",
    "output": "您好，关于种植牙术后喝凉茶的问题：\n\n【术后早期建议少喝】\n\n【凉茶的特点】\n1. 性寒凉\n2. 有药性\n3. 可能刺激\n4. 适量饮用\n\n【饮用建议】\n\n【术后 1 周内】\n- 不建议喝凉茶\n- 性寒凉\n- 可能刺激伤口\n- 促进伤口愈合\n\n【术后 1-2 周】\n- 伤口基本愈合\n- 可以少量饮用\n- 选择温和凉茶\n- 避免过凉\n\n【术后 1 个月后】\n- 可以正常饮用\n- 但仍适量\n- 避免过凉\n- 保护口腔\n\n【饮用注意】\n1. 常温饮用\n2. 不要冰镇\n3. 不要过量\n4. 喝完漱口\n\n【特别提醒】\n- 凉茶性寒凉\n- 术后早期避免\n- 常温可以适量\n- 保护口腔\n\n【长期建议】\n- 即使恢复后也要适量\n- 过量寒凉影响身体\n- 影响口腔健康\n- 适度为宜\n\n建议您术后至少 1 周内不要喝凉茶，之后常温适量饮用。请问您术后多久了？",
    "category": "术后护理"
  }
]

# 检查是否重复
for record in new_records:
    if record['input'] not in existing_inputs:
        data.append(record)
        print(f"已添加：{record['input'][:30]}...")
    else:
        print(f"重复跳过：{record['input'][:30]}...")

# 保存
with open('D:/Project/毕业设计/data/train/train.json', 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

print(f"\n最终训练集：{len(data)} 条")

# 统计
from collections import Counter
category_counter = Counter(item['category'] for item in data)
print("\n类别分布：")
for cat, count in sorted(category_counter.items(), key=lambda x: x[1], reverse=True):
    print(f"  {cat}: {count} 条 ({count/len(data)*100:.1f}%)")
